"use strict";var object={currency:{usd:["ETHUSD","LTCUSD","BTCUSD"],eur:["ETHEUR","LTCEUR","BTCEUR"],rub:["ETHRUB","LTCRUB","BTCRUB"],gbp:["ETHGBP","LTCGBP","BTCGBP"]},defaultCurrency:"usd",selectCurrency:null,symbol:{usd:"36",eur:"8364",rub:"8381",gbp:"163"},period:["hour","day","week","month"],api:"https://apiv2.bitcoinaverage.com/indices/global/ticker/"},select={selectDefault:document.querySelector(".currency-usd__label"),checked:"usd",lastClick:null},header=document.querySelector(".select__item");function show_hide(){var e=document.querySelector(".select__item").style;"none"===e.display||""===e.display?e.display="flex":e.display="none"}function hide(e){null===select.lastClick&&select.checked===e.target.value?console.log("hi"):(select.lastClick=e.target.value,document.querySelector(".currency-usd__label").textContent=e.target.value,document.querySelector(".select__item").style.display="none",object.selectCurrency=e.target.value),inquiry(object,e.target.value)}function startInquiry(e){null===e.selectCurrency?inquiry(e,e.defaultCurrency):inquiry(e,e.selectCurrency)}function inquiry(e,t){e.currency[t].map(function(c){fetch(e.api+c).then(function(e){if(e.ok)return e.json();throw new Error("Error fetching data")}).then(function(r){var n=c.toLowerCase().slice(0,3);document.querySelector("."+n+"-price__value").textContent=""+String.fromCharCode(e.symbol[t])+r.last.toFixed(2),periodChange(e,n,r)}).catch(function(e){console.log("Error:"+e)})})}function periodChange(e,t,c){var r=void 0;e.period.map(function(e){r=c.changes.percent[e].toFixed(2),document.querySelector("."+t+"-"+e+"-change__value").textContent=r+"%",+r>0?document.querySelector("."+t+"-"+e+"-change__value").classList.add("plus"):+r<0&&document.querySelector("."+t+"-"+e+"-change__value").classList.add("minus")})}select.selectDefault.addEventListener("click",show_hide),header.addEventListener("click",hide),startInquiry(object);